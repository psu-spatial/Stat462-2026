[["index.html", "STAT462 Lab Book 2026 Welcome to STAT-462! Useful Links How to use this website", " STAT462 Lab Book 2026 Dr Helen Greatrex 2026-01-27 Welcome to STAT-462! Dr Greatrex has written this lab book to provide all the code and instructions you need for regression analysis. You will be conducting analysis using R and writing up your reports using R-Markdown. Unless I tell you otherwise, you can find all the code you need in this lab book Don’t panic if you are new to this! We will start from scratch and you are expected to have zero programming experience. Useful Links The course canvas page: https://psu.instructure.com/courses/2450096 Have a question? (I’m late! Can I work with friends? What about ChatGPT? etc), see Lab FAQs Brand new? Start here: What is R, then go here if you want to use it on your own computer Installing for the first time or here if you want to use it online. Used R before? Please update your version. Instructions and the reason why here: Updating R and R-Studio. How to use this website This website has been written using R-bookdown and uploaded to github. The format has been tweaked using the excellent bookdown example of Mastering Shiny. details > *:not(summary){ margin-left: 10em; } "],["FAQ.html", "Course FAQ What files should I submit? My report won’t knit! How am I graded? I’m late! What’s the late policy? Can I work with friends? What counts as cheating? How can I use chatGPT safely?", " Course FAQ What files should I submit? Click here for the answer You need to submit two files on canvas; a .Rmd file containing your code and writing a .html file for viewing your finished document. This is what is created when you press knit - and you can find it in your project folder for that lab. Occasionally, you might also need to submit your dataset. I explain what to submit in detail at the end of each lab. You can also add comments to your submission as needed on the canvas page, or you can message Dr G. If you can’t knit your final html because the code isn’t working, see Question 2 My report won’t knit! Click here for the answer Don’t panic! This is common. It normally means that you either have an issue with your code or your computer has run out of memory (especially using R-Studio Cloud). Try these steps to diagnose the issue. Dr G can also help. Go to the Session menu at the VERY TOP of the screen. Click Restart-R and clear all output. Now go to the environment quadrant and click the little arrow by the pie-chart. Free unused R memory. Now go back to the Session menu. Click Restart-R and run all code chunks Carefully watch as your code runs. Does it reach the end without any errors or stopping? IF YOUR CODE STOPS (There was an error), click here Read the error message in the console or terminal closely (try reading it out loud) and scroll to the code chunk, or line of code it’s referring to. See if you can fix the issue, starting with the first line that had an error.Common issues are: Spelling mistakes (R is case sensitive) You forgot to load a library (e.g. you get an error saying a command doesn’t exist but it was previously working fine). In this case make sure you have the correct library() command at the top of your lab script. Whether you have tried to use a variable above the place in the code that you calculated it (double check, you might have accidentally deleted a line). If you forget to load your project, when you press knit, R-studio won’t be to find your data/image files. . If you made a change/fix in your code, click here Go to the Session menu at the VERY TOP of the screen. Click Restart-R and run all code chunks. See if you get to the end. Keep going, fixing errors as you go, until it all knits. If you still have issues, look at the next section. . If you can’t find the issue or it still won’t knit, click here Read the error message carefully. See if you can find the problem code chunk(s). In the top part of any problem code chunks, type eval=FALSE (see screenshot below), then try pressing knit. You might find that you have to stop quite a few code chunks running. This will allow me to see your code and grade what you have. IF THERE WAS NO ERROR (All the code chunks run with no problems), click here Make sure you are running your project. Go to the FILES tab. Delete all files EXCEPT your .RProj, your .Rmd, your data and any image files. Basically delete all the auto-created files. Try pressing knit again. If it still doesn’t work, read the error message carefully and see if it make sense. If you still have no luck, take a screenshot of the entire screen (including the error message), then ask Dr G for help. How am I graded? Click here for the answer You can see the specific rubric I use for each lab on the canvas page. My grader and I will also provide as much feedback as possible, so please remember to click the “view rubric” button (top right) to take a look. Overall, here is what your lab should correspond to: Table 0.1: Table 0.2: Your overall grade POINTS Approx grade What it means 98-100 A* Exceptional.  Above and beyond.  THIS IS HARD TO GET. 93-98 A Everything asked for with high quality.   Class example 85-93 B+/A- Solid work but the odd mistake or missing answer in either the code or interpretation 70-85 B-/B Starting to miss entire/questions sections, or multiple larger mistakes. Still a solid attempt.  60-70 C/C+ It’s clear you tried and learned something.  Just attending labs will get you this much as we can help you get to this stage 40-60 D You submit a single word AND have reached out to Dr G or Aish for help before the deadline (make sure to comment you did this so we can check) 30-40 F You submit a single word……. ANYTHING.. Think, that’s 30-40 marks towards your total…. 0+ F Didn’t submit, or incredibly limited attempt.  I’m late! What’s the late policy? Click here for the answer I never give late penalties for technical issues that we are working on together. For example, imagine your code suddenly won’t knit. If you send me canvas message with our code and a screenshot of the issue before the deadline, then all late penalties go away until we have fixed it (even if I’m not able to reply immediately). If the assignment is still open, you are welcome to submit to it, but there is a sliding scale if you are more than 24hrs late. There is a sliding scale of penalties attached to late work, but I am very generous about removing these if you come to office hours (in person) For each day you are late, you lose 1% for that assignment. This is capped at 10% (e.g. if you are more than 10 days late, you can score a maximum of 90% for that assignment) BUT! If you are already talking with me before the deadline, then no late penalties apply. Sometimes life happens and my aim for this class is to get you to learn regression! So if in doubt, talk to me. In general, I prefer you submit late than not at all. All assignments will be left open for you to submit until I provide worked answers (unless worked answers have been provided). If you’re a few hrs late you will be absolutely fine, so if you’re reading this at 4am, go to bed! If you’re struggling for any reason or late, send Dr G a canvas message and keep working on the assignment. BUT! Submitting later than 10 days late is a risk. At any time past the 10 day deadline, I reserve the right to: Release worked answers and close canvas without warning (unless we are talking via canvas message). You cannot submit in that situation as you will already have the answers. Grade the labs at any time past the deadline without warning. If you miss the grading window, it will probably be several weeks until I am able to give you feedback. See the course syllabus for more info. Can I work with friends? What counts as cheating? Click here for the answer You are encouraged to talk with each other during these labs e.g. you can see each others screens and work out answers together. BUT NEVER SHARE CODE OR SEND SCRIPT TO SOMEONE ELSE. ALL TEXT SHOULD BE IN YOUR OWN WORDS. For example: Working out together the right way to apply the seq() function, then each independently adding it to your own scripts is fine. Copy/pasting your friend’s code/text is never OK. So DISCUSS with friends, but then turn away to your own screen and write your own code and text. I will be randomly running lab reports through plagiarism software. You are also not allowed to get someone else, or an AI to complete the lab for you, whether online or in person. See the syllabus for the full description. How can I use chatGPT safely? Click here for the answer This advice is specific to this class. Your generation is in a weird spot. It’s like when google translate or Wikipedia started. ChatGPT is there, but it’s not yet perfect and society is still working out how it can help and how it can mislead. What this means is that professors can still recognize when you are using ChatGPT EVEN (OR ESPECIALLY) WHEN YOU ARE CODING OR DOING MATHS. If you imagine coding is like a language, it’s like your handwriting changes. Or to put it another way “ChatGPT voice” is real ChatGPT/Gemini/Generative AI does not appear in my grading rubrics. But I have often found that submissions which are clearly mostly ChatGPT score low grades anyway as they often don’t do what I ask in the assignment. STAT-462 Course Policy - based on your discussion results You can use ChatGPT/Gemini/Generative AI in the same way that you can get help from a family member or classmate. You can ask it to help explain things, or debug your code, or to help find datasets or to check your grammar. You are forbidden from copy/pasting course questions or your work into it and then simply copy/pasting its answer into your reports. You are also forbidden from referencing to ChatGPT (it’s like saying in the references, my friend told me). Instead, ask it for a real reference/website/paper with that information in it, and reference that. This policy is MUCH easier to understand if you imagine ChatGPT (or your AI of choice) is a person. Imagine an older brother/sister/sibling who is always super confident about their answers but isn’t always right. Or if that doesn’t work for you, imagine an older friend /undergrad-LA/ friend-who-took-the-course-last-year, or someone on TV. Picture them in your mind. I’m going to use my imaginary sister, Sam. What do I mean? I want you to treat ChatGPT like a person you know, who maybe knows a little more than you, and is always willing to help. They are SUPER CONFIDENT about the answers they give and definitely willing to talk like a pirate or explain anything to you ‘as though you were 7’. But! You know that often ChatGPT won’t be quite right, their knowledge might be out of date and they might know a different way of getting to the answer than the one you need. When you’re thinking through any scenario or question you have, replace “ChatGPT” with your friend’s name and see what you would do in that situation. Here are some scenarios. Scroll to the end to see some example conversations you could try. What would Sam do? Plagiarism/cheating.. Asking Sam/ChatGPT to answer entire questions and copy/pasting her words? Definitely cheating. Getting Sam/ChatGPT to check my grammar and tweak the odd sentence? Fine! Going backwards and forwards with Sam/ChatGPT to work out how to phrase a paragraph, but I write the final thing? Fine! Using a conversation with Sam/ChatGPT as a starting point, then googling the actual sources/answers Fine! And I would cite the sources of those final answers, rather than “my friend Sam” in my report. Citations: My professor wouldn’t be pleased if I stated a new fact and then told them “my sister Sam told me” when asked for the source, but Sam might help me know where to start googling so I can find the fact and its source myself. Authorship… If Sam/ChatGPT writes most of my report for me, they should be recognized as an author. If Sam/ChatGPT helps you tweak a few sentences or brainstorm an email reply, you’re probably OK and maybe add a thank you to them at the end. Coding… Sam/ChatGPT is quite a good coder. I often show them/copy across my errors and see what they think. But! Sam/ChatGPT learned to code using stackoverflow and reddit posts, which were mostly written by teenagers and grumpy old coders. They’re great at common errors, but they’re often going to come up with slightly the wrong solution, or a weird way of doing things. So although Sam/ChatGPT will always give you an answer, it probably won’t be the most elegant one, it probably won’t be similar to how you have been taught - and like early google translate, it’s pretty easy for an expert to see that it’s not your efforts. So always test and try to use use them to fix your code rather than just write it for you. It is very easy (currently) for professors to see ChatGPT generated code. It’s like your handwriting changes. But it’s great at debugging your errors. What else is Sam/ChatGPT good &amp; bad at? Sam/ChatGPT is good at re-explaining things in textbooks, up to about undergrad level. Or ideas which have been around for a long time. Sam/ChatGPT is pretty bad at newer ideas, cutting edge stuff, or interpreting textbook ideas for your own case study It also does better if you are more specific e.g. can you explain this topic to me using this theorem or R package helps it know where you want it to start (maybe Sam doesn’t actually know the answer but is secretly googling so they don’t have to appear stupid in front of you) But the main reason I love chatGPT is that, like with an older friend, you can ask it stupid questions and it will always help. You don’t have to worry about spelling errors writing formally. You can have an actual conversation. For example, I tend to treat it like a less clever ‘Jarvis’ from Iron Man :) Making things up ChatGPT is programmed to find the series of words that sounds most like your request, it has no idea if the words are ‘true’! Just like an older friend is often too embarrased to admit they don’t know and will make something up that ‘sounds right’ So Sam/ChatGPT will NEVER say they don’t know the answer. Think of the amount of times an overconfident friend/sibling says they definitely know the answer and it turns out to be wrong and they won’t even admit it! Never fully trust what ChatGPT/Sam says! Always google it. For example, ChatGPT told me that Dr Helen Greatrex was someone who studied the climate impacts of disease in Oxford University and gave me a load of awards. It was so convincing I had to check I didn’t have a name-twin! Example conversation Imagine you wanted to know if learning ANOVA or Regression is best for your career, but you don’t even really know what they are. Try asking ChatGPT this series of questions :) Hello! If you have achieved sentience, I hope you are well What's the difference between ANOVA and regression? I don't get it, can you explain it more simply? I still don't get it. Especially this sentence [copy paste sentence of your choice]. Could you explain that? Nope, could you explain it like I'm ten years old and love pirates. ......... ….. Keep the conversation until you are pretty sure YOU know the difference between ANOVA and regression, then OK, so I think that ANOVA is this [add your explanation] and regression is this [add your explanation]. Am I right? Am I missing anything? Are there any good textbooks or websites on the topic? (note, it will only know up to 2021) My career is XXXX. How are ANOVA and regression mostly used in them? Do they use special jargon around this? Can you give me concrete examples I can google? details > *:not(summary){ margin-left: 10em; } "],["WhatIsR.html", "What are R and R-Studio? 1. What is R? 2. What is R-Studio/POSIT? 3. What is R-Markdown?", " What are R and R-Studio? 1. What is R? R IS A LANGUAGE SPOKEN BY YOUR COMPUTER R is a free, open source statistical programming language. It contains millions of words/commands that are useful for dataset cleaning, analysis, and visualization. By a “programming language”, I mean it is a collection of commands that you can type into the computer in order to analyse and visualize data. The easiest way I find to think about R is that it is literally a language, like Spanish, English or Hindi. Or like a set of magic commands in a fantasy novel. Learning R means learning vocabulary and grammar in order to communicate. It also means it gets easier with experience and practice.. If you open “R” on your computer (DON’T DO THIS), you will see a simple window with a cursor ready to hear commands. There is no help or support. This is how I learned to programme in R and I don’t recommend it! (#fig:Tut_Fig1) Basic R 2. What is R-Studio/POSIT? R-STUDIO/POSIT is a Software Application like Word, Chrome or Spotify R-studio is a software program/app, like Microsoft Word, or the Chrome Web-browser. It’s has recently been re-branded to Posit because it can also now “speak” other computer languages. For GIS folks, it’s a competitor to Google Collab. It’s a program that’s designed to make it easy to write R-commands. RStudio has many useful features. For example, you can easily see help files, run code, see your results and create professional graphics. R-Studio also allows us to make interactive documents called R-Markdown files. There is a version you can download onto your own computer called R-Studio/Posit Desktop, and a version that runs on a website called ‘R-Studio Cloud’. (#fig:Tut_Fig2)R-studio is much more sophisticated Watch this 5 min video on the newest version of R studio. More here: https://posit.co/blog/announcing-rstudio-1-4/ 3. What is R-Markdown? Markdown is a way of writing documents with computer code embedded into them. R-Markdown is a markdown file that uses R code R Markdown is a document format that blends the capabilities of R (a programming language primarily used for statistical computing and data analysis) with the formatting and layout capabilities of Markdown (a lightweight markup language). It allows you to create dynamic documents that combine narrative text, code, and the output of that code (such as tables, plots, and figures) in a single document. Read more here: https://rmarkdown.rstudio.com or watch this short video Here’s how R Markdown works: Narrative Text: You can write your document using plain text, using Markdown syntax to format your text, add headings, lists, links, and more. Code Chunks: You can embed R code chunks within your Markdown document. These chunks are demarcated by triple backticks or by the “```{r}” syntax, and they allow you to execute R code directly within your document. Output Display: When you knit (compile) the R Markdown document, the R code within the code chunks is executed, and the output is dynamically displayed in the final document. This output can include tables, plots, statistical summaries, and more. Knitting: The process of converting an R Markdown document into a final, formatted document is called “knitting.” When you knit an R Markdown document, R code is executed, the output is generated, and the Markdown text and the output are combined into a single document. Flexibility: R Markdown supports various output formats, including HTML, PDF, Word, presentations, and more. This means you can easily create different types of documents from the same source. R Markdown is widely used for creating reports, documents, tutorials, and presentations that involve data analysis and visualization. It is a powerful tool for reproducible research because it allows you to document your analysis process, code, and results in a single document. Changes to the code or data can be easily updated and reflected in the final document without manually reformatting everything. To use R Markdown, you typically need to have R and a few additional packages installed. You write your document in a plain text file with the .Rmd extension, and then use an R Markdown “knitting” process to generate the final document in your desired format. We will cover this in the next tutorial. Some examples? R Markdown Gallery: The official R Markdown Gallery showcases a variety of R Markdown examples, including interactive visualizations, reports, presentations, and more. You can find this gallery on the R Markdown website. Website: R Markdown Gallery R Bloggers: R Bloggers is a community-driven site that aggregates blog posts related to R programming. Many R bloggers share their R Markdown examples, tutorials, and creative outputs on this platform. Website: R Bloggers "],["Setup_Desktop.html", "Installing R/R-Studio 0.1 Written Instructions", " Installing R/R-Studio If you are brand new, consider skimming through What are R and R-Studio To use it on your own computer we need to do two things. First, teach the computer to ‘speak R’. Secondly download the RStudio software. In this section, I first include a video where I go through it - and then written instructions going over the same thing. Video instructions Here’s a video where I install R/R-Studio on my mac. It should take less than 10 minutes to follow along &amp; there are subtitles. I will try to also put up another for my windows machine. Click to expand &amp; watch 0.1 Written Instructions If you’re not a video sort of person, here are written instructions: 1. Installing R. First, we teach the computer to ‘speak R’. Go here: https://posit.co/download/rstudio-desktop/. Click the Install R button (#fig:Setup_Fig1)Click here! Click the link and you will go to a terrifying website called CRAN R. (#fig:Setup_Fig2)Choose your computer type If you are on a WINDOWS/PC computer Click to expand (#fig:Setup_Fig3)Choose your computer type Click the “install for the first time” link and follow through to install R - EVEN IF YOU ALREADY HAVE R AND R STUDIO INSTALLED. Say yes to all the default options. Send Dr G a message if you get stuck If you are on a MAC/AppleMac Click to expand If you are a MAC user, you will need EITHER one of these two files. If your computer is new, try the top one, if it’s older try the second - the wrong one simply won’t work. (#fig:Setup_Fig4)Choose your computer type Click the filename to download MOVE THE DOWNLOAD OUTSIDE YOUR DOWNLOAD FOLDER (they have a weird bug.) Put it on your desktop Open the download and follow the instructions. You can delete the download. If you have issues, try watching my video at the top and see if that solves it. Or talk to Dr G 2. Installing R studio Go back here: https://posit.co/download/rstudio-desktop/. Click the Install R-Studio button If you are on a WINDOWS/PC computer Click to expand Install the same way you install any new software If you are on a Mac computer Click to expand (#fig:Setup_Fig6)Will look different for windows Download the dmg file, click to open, then DRAG it over to applications. If it asks to overwrite, say yes. It might get angry at this stage if your mac is very out of date. Your choices are probably to backup your computer, update your operating system and reinstall R. OR! Just use RStudio online rather than downloading it at all. Feel free to chat with Dr G about options. "],["Setup_UpdateDesktop.html", "Updating R/R-Studio Exceptions Why update R and R-Studio? I took a course using them last semester How to update?", " Updating R/R-Studio Exceptions You do not have to update in the following situations, but know that any weird issues might be because of the version of R you are running. If you are working in a lab and need a specific version of R, you do not have to update. If you KNOW your computer is going to hate this, then as long as you installed after June 2023, you don’t have to update, but give it a go if you can. Why update R and R-Studio? I took a course using them last semester When R updates, it can sometimes cause weird issues with an individual package (or vica versa if the package is updated but you are running on an old version of R). This is more likely this semester because in November 2023, R went through a huge update that had been planned for years. It’s good programming practice to use the most recent version but normally, people tend to update when they can but take their chances. In our case, I don’t have a TA and there are 50 of you. So if half of you are on an old version of R and half are on a new version, it’s really hard for me to tell if a weird error is because you are on an old version of R or if there is something else going on. So if everyone is running the same version, life is MUCH easier all around. So if you already have R, treat this as an exercise in how easy it is to update and to get in the routine of good programming practice. And because if you get stuck and you’re using an old version of R or R-Studio, I’m not going to help you debug until you update, so you may as well… How to update? R AND RStudio need to be updated and you do that exactly the same way as installing for the first time. It will automatically overwrite. So go to Installing R/R-Studio on your computer and follow the instructions exactly. 0.1.1 Then update your packages. We ALSO need to update the packages you have. So once you are done, make sure you are connected to the internet, then open RStudio and click “Update/Update all”. Go for a coffee. R might also need to reinstall some packages, so don’t panic if you see the little yellow “install banner”, just click yes. (#fig:Setup_Fig7)Click this to update the packages "],["Setup_Online.html", "Posit Cloud Online Posit/R-Studio Cloud Website", " Posit Cloud Online YOU DO NOT NEED YOUR OWN COMPUTER TO BECOME AN EXPERT R-PROGRAMMER! There are many options to access R and R-Studio online. The only downside to these is that they can be a little slower and often they cope less well with large datasets. Posit/R-Studio Cloud Website This is an website based version of R-Studio that is owned by the same team that created it. 0.1.1.1 EVERYONE SHOULD SIGN UP FOR AN ACCOUNT HERE: https://posit.cloud/ I believe it’s free for the first 25hrs each month. Sadly there is no student pricing right now. Advantages: It’s always up to date You can do your labs anywhere you have access to a webpage Disadvantages: It’s not as powerful, you won’t be able to play will millions of data points You have to be online; bad internet connections make it harder It’s weirdly ‘buggy’. Things like you will need to install packages every lab 0.1.2 What if I run out of free time? There are a few options: It’s easy to transfer your labs, so you could make a new account with a new email, You pay for a single month to get through (about $5). If you are really short on cash, I will pay for it for you ON THE CONDITION that you click this link and sign up. https://science.psu.edu/office-for-undergraduate-students/take-professor-lunch Talk with Dr Greatrex who has a few other options upher sleeve details > *:not(summary){ margin-left: 10em; } "],["Help.html", "HELP! Github help portal My report won’t knit!", " HELP! If you are stuck, you have a few options: If your report won’t knit, first try the suggestions below in My Report won’t knit! You can submit your issue, with screenshots and an explanation of the problem on the course help forum: https://github.com/psu-spatial/Stat462-2024/issues You can attend office hours (after lab Wednesday, after class Friday, Tuesday on zoom) - more details on Canvas: Find office hr details here If you are really stuck you can canvas message me, but I ezpect to see at least one of the github/office hour options tried first. Github help portal You can submit issues, with screenshots and an explanation of the problem on the course help forum: https://github.com/psu-spatial/Stat462-2024/issues My report won’t knit! Click here for the answer Don’t panic! This is common. It normally means that you either have an issue with your code or your computer has run out of memory (especially using R-Studio Cloud). Try these steps to diagnose the issue. Dr G can also help. Go to the Session menu at the VERY TOP of the screen. Click Restart-R and clear all output. Now go to the environment quadrant and click the little arrow by the pie-chart. Free unused R memory. Now go back to the Session menu. Click Restart-R and run all code chunks Carefully watch as your code runs. Does it reach the end without any errors or stopping? IF YOUR CODE STOPS (There was an error), click here Read the error message really closely (try reading it out loud) and scroll to the code chunk it’s referring to. See if you can fix the issue, starting with the first line that had an error.I’ll try to have a list of common issues on the help page, but in general, check for Spelling mistakes (R is case sensitive) Whether you have tried to use a variable above the place in the code that you calculated it (double check, you might have accidentally deleted a line). If you are running your project, or it won’t be able to find your data/image files. . If you made a change/fix in your code, click here Go to the Session menu at the VERY TOP of the screen. Click Restart-R and run all code chunks. See if you get to the end. Keep going, fixing errors as you go, until it all knits. If you still have issues, look at the next section. . If you can’t find the issue or it still won’t knit, click here Read the error message carefully. See if you can find the problem code chunk(s). In the top part of any problem code chunks, type eval=FALSE (see screenshot below), then try pressing knit. You might find that you have to stop quite a few code chunks running. This will allow me to see your code and grade what you have. IF THERE WAS NO ERROR (All the code chunks run with no problems), click here Make sure you are running your project. Go to the FILES tab. Delete all files EXCEPT your .RProj, your .Rmd, your data and any image files. Basically delete all the auto-created files. Try pressing knit again. If it still doesn’t work, read the error message carefully and see if it make sense. If you still have no luck, take a screenshot of the entire screen (including the error message), then ask Dr G for help. "],["Lab_1.html", "Lab 1 0.2 Aim Instructions 0.3 What do I submit?", " Lab 1 0.2 Aim Welcome to your first lab. This is worth 10% (100 points) and you can drop your lowest lab out of six. We have three main learning objectives. To allow you to practice the statistical concepts from the course To use real-world data-sets. To be comfortable conducting analysis in R and writing up your reports professionally. With this in mind, your first lab will be getting used to the R-Markdown format and the course structure. This is a ONE WEEK LAB. You only have one lab session (today) working on this during class, then 10 days to finish up and write up. The maximum time it should take is about 4-5 hrs of your time. If you are really stuck, ask for help. Instructions If you skipped homework 1.. [1] Read more about R, R-Studio and R-Markdown: What are R and R-Studio [2] Either install R and R-Studio on your own computer OR make an account at posit cloud. You should be running R version “4.3.2 Eye Holes” (look at the top of the console), and R-Studio version 2023.12.0. Projects &amp; Templates [3] It is likely that past R users did not have to use projects, but they are WONDERFUL. Go here to read more about projects. Follow the tutorial instructions to make a project for Lab 1 (instructions available for both desktop and posit-cloud): Projects [4] I have provided a template for your lab 1 report. Go to the Canvas assignment page and, download Lab1_Template.RmD, RENAME IT TO Lab1_Email_ID.RmD (e.g. for me, Lab1_hlg5155.RmD) and place in your project folder on your computer. On Posit cloud, open your project, then look for the upload button in the Files tab. Ignore it for now. Libraries [5] Most of the code/commands we will use is stored inside packages. Go and read Libraries [6] If you haven’t already, open your R-Project. Now go to the ‘install/app store’ and install these three packages: rmdformats tidyverse ggstatsplot Note - I ‘load’ them for you in the lab template. Look for the library command. R-Markdown [7] Read through the tutorial about R Markdown. Markdown Tutorial [8] Open your RmD report file (click on its name in the files tab, as long as you are running your project). Click visual mode and see if you can identify the code chunks, space for text and yaml files. [9] Click knit. This should work and create a html file. IF YOU HAVE PROBLEMS ASK FOR HELP (as long as you have first installed rmdformats) [10] In the space assigned, answer these questions QUESTION 1: Using a bullet point list (hint visual mode, formatting at the top), state three advantages of using R projects (hint 2, video in the project tutorial) QUESTION 2: Using the example of phone apps (or any other example), explain what R packages are and the difference between installing them and loading them. State what command is used to load packages ready for use? Finally, state whether you can load packages when you are not connected to the internet (hint, think about your phone). QUESTION 3: Make a new heading called favorite photo in the question 3 slot, then change its format to ‘heading 3’. Inside insert a photo/picture of your choice and underneath explain why you chose it. QUESTION 4: Go to the canvas course page and look at the course expectations document (in modules at the top). Summarise IN YOUR OWN WORDS what assignments are expected for this course. QUESTION 5: Go to the lab FAQ page. https://psu-spatial.github.io/Stat462-2024/FAQ.html Explain IN YOUR OWN WORDS, what the policy is surrounding ChatGPT. Press knit and check it still works. R-Coding The following questions link to your homework and datacamp. For those who have programmed in R, they are trivial, but use it to get used to the markdown format. In the space for Question 6, make a new code chunk. (either a single one or mulitple is fine). Answer the following questions using R. You get the first one for free :) Calculate the sum of 1+1 and assign it to the variable ‘a’ (e.g. a &lt;- 1+1) a &lt;- 1+1 Calculate the sum of 1+3 and assign it to the variable ‘b’ Calculate your age to the power 4 and assign it to a variable called yourname (e.g. mine would be helen &lt;- ..) Calculate the sum of a/b and assign it to the variable ans Calculate the number of characters in the word “Llanfairpwllgwyngyllgogerychwyrndrobwllllantysiliogogogoch” using the nchar commannd (hint https://www.educative.io/answers/how-to-calculate-the-size-of-a-string-using-nchar-in-r, hint 2 QUOTES) Above and beyond There are only 3 marks for this! So it’s a space to stretch yourself and show off. Set a timer for 20mins and see how far you get. Load the starwars dataset by creating a code chunk with this command. # THIS WILL ONLY RUN IF YOU FIRST RUN THAT LIBRARY CODE CHUNK AT THE TOP data(starwars) See how much you can find out about this dataset using R. Hints, you could use the summary command, you can select individual columns using $ e.g. starwars$name gets the data command, you can use the table command on categories, or any plots you wish. You get the three marks for a reasonable attempt, and if nothing works, for writing what you tried and what happened. 0.3 What do I submit? Press knit one final time. You will have created two files; a .Rmd file containing your code and a .html file for viewing your finished document. You need to submit BOTH of these files on the relevant Canvas assignment page. You can also add comments to your submission as needed on the canvas page, or you can message Dr G. To download them on posit cloud, click on the check box by the RmD and html, then click on the little blue cog on the far right of the Files tab (you might need to maximise the window), then press export. "],["T1_Projects.html", "Chapter 1 Projects/Starting a lab 1.1 Projects using posit Cloud 1.2 Projects on your desktop", " Chapter 1 Projects/Starting a lab An R project typically refers to a collection of files, data, and code organized within the R programming language environment for a specific analysis, research, or statistical project. On the Posit Cloud, a new project means a ‘new version of R opens’ On the Desktop, you will have a single folder for each lab. Inside that will be your code, your data/images etc and a special .RProj file that you will use to open R. Watch this short video to learn why we are using them (4 minutes) (link here if it’s not working: https://www.linkedin.com/learning/learning-the-r-tidyverse/why-should-you-use-projects-in-rstudio?u=76811570, you will need to log into Penn State) WE WILL BE MAKING A NEW PROJECT FOR EACH LAB 1.1 Projects using posit Cloud Go to this webpage. https://login.posit.cloud/login You can get here from any web-browser and you do not need a special computer. When you log in, you should see a dashboard like the one below. Make a new project by clicking the button on the top right. This will open a window containing R-Studio. You can open different projects in different tabs on your browser. Returning to your lab projects on the cloud is very easy. Just go back to https://posit.cloud/content/yours (#fig:im_T1_ProjectCloud)The Cloud dashboard 1.2 Projects on your desktop Make a folder called STAT462 in an easy to access location on your computer. This is where all of your labs will live for this course. Now open R-studio (NOT R!). You should have updated to the most recent version Steps 3-7 are shown graphically in the figure below. If you are new to this, follow them slowly. Go to the Main File menu at the very top left and click New Project Select New Directory, then New Project Name your project STAT462-Lab1 (or whatever lab it us) IMPORTANT. Under “create project as a subdirectory of”, hit the browse button and find your STAT462 folder (you just need to navigate to inside the folder, you don’t need to have selected anything). Press open Finally, press Create Project 1.2.1 How to check you are running your project If you have any errors, this will be the first thing I check, so you may as well check first! R will change slightly. If you look at the top of the screen in the title bar, it should say something like STAT462-Lab1 - R Studio. The Files tab should have gone to your project folder. Essentially, R-Studio is now “looking” inside your Lab 1 folder, making it easier to find your data and output your results. (#fig:im_T1_Projectcheck)How to check you are in a project If you want one final check, try typing this command into the console (INCLUDING THE EMPTY PARANTHESES/BRACKETS), press enter and see if it prints out the location of Lab 1 on your computer. If not, talk to an instructor. getwd() 1.2.2 Returning to your lab project OK, let’s imagine that you get halfway through your lab and your computer dies. How do you get back to your Lab work? Try this now. Close down R-Studio. To reopen a lab: DO NOT RE-OPEN R-STUDIO! (if you do, go to File/Open Project) Instead navigate on your computer to your STAT462/STAT462-Lab1 folder. Double click on the STAT462-Lab1.RProj file. Look for the RPROJ data type! This will reopen R-Studio for that specific lab, so you can continue where you left off. It means you can also open several versions of R studio for multiple labs, which can be very useful in staying sane "],["T2_Libraries.html", "Chapter 2 Libraries/Packages 2.1 What are packages? 2.2 Seeing what packages you already have 2.3 The app store/getting new packages 2.4 Using/Loading a package you ‘own’", " Chapter 2 Libraries/Packages 2.1 What are packages? R is open source, so over the last 20 years, millions of useful commands have been written that we might want to use. To make life easier, commands are grouped together into collections called Packages or Libraries (two names for the same thing). For example, one package might make pretty plots, another might focus on efficient Bayesian analysis. A close analogy is your phone: There are millions of apps now available from banking, to social media, to calendars and games. But! You don’t have every app in the world installed on your phone - Instead you download the apps that you think you will need (occasionally downloading a new one on the fly) - You also don’t have all the apps you downloaded running at the same time on your phone. When when you need to use an app, you click on it to open. Just like your phone, to access the commands in a package we need two steps: ONCE ONLY: Download the package from the internet EVERY TIME: Load/Open the packages you want 2.2 Seeing what packages you already have Some packages are downloaded on your computer by default (just like the flashlight /calculator app on your phone). You can see this list in the Package tab. 2.3 The app store/getting new packages There is a package for literally everything and there are now well over 20,000 available. You can see the full list here: https://cran.r-project.org/web/packages/available_packages_by_name.html This is far too many to store on your computer, so most live on the internet in an online (free) “Package Store”. You can download the ones you want, ready to load later. To download/install a new package 2.3.1 Manually click This is like going to the app store to get a new app. Just like you only go to the app store once, this is a one-off for each package. NOTE! For R studio cloud online, you might have to do this for each project. Look for the quadrant with the packages tab in it. You will see a list of packages/apps that have already been installed. Click the INSTALL button in the Packages tab menu (on the left - see figure above) Start typing the package name and it will show up (check the include dependencies box). Install the package. 2.3.2 Little yellow banner R will sometime tell you that you are missing a package (sometimes a little yellow ribbon), click install to install! 2.3.3 Problem solving 2.3.3.1 Why isn’t my package downloading? Its frozen Sometimes R will ask you if you want to install binaries or other things. IT WILL ASK YOU THIS QUESTION THROUGH “SPEAKING” IN THE CONSOLE. It expects you to type yes or no, and to press enter to continue. Try yes, if it doesn’t work (esp xfun), try no. 2.3.3.2 R keeps asking to restart. Sometimes R-Studio might want to restart when downloading packages and occasionally gets confused. If it keeps asking, press cancel, then go to the Session menu at the VERY top, click Restart R and Clear output, reopen and try again. 2.4 Using/Loading a package you ‘own’ Just as going to the app store doesn’t check your credit-card balance or make an Instagram post, simply downloading a package from the app-store doesn’t make the commands immediately available. For that you need to load it (just as you click on a phone app to open it). I will tell you which packages you need for each lab, but if R tells you it wants a package, then install it AND load it. This can be done with the library() command. For example, this command loads the full works of Shakespeare from the the bardr package. (https://www.rdocumentation.org/packages/bardr/versions/0.0.9). If you want to try this, you will need to first install bardr using the instructions above. library(bardr) 2.4.1 Using a single command from a package ADVANCED: Sometimes several packages name a command the same word and you want to specify which package you want to use. You can do this using the :: symbol. For example, this command forces the computer to use the ‘dplyr package’ version of filter. dplyr::filter(mydata) 2.4.2 Problem Solving 2.4.2.1 Nothing happened! If you have managed to load a package successfully, often nothing happens - this is great! It means it loaded the package without errors. 2.4.2.2 There was a load of text output - an error? Hard to tell. So I suggest running the library command TWICE! This is because many packages will print “friendly messages” or “welcome text” the first time you load them. For example, this is what shows up when you install the tidyverse package. The welcome text is indicating the sub-packages that tidyverse downloaded and also that some commands now have a different meaning. (#fig:im_T2_friendlytext)Tidyverse install messages To find out if what you are seeing is a friendly message or an error, run the command again. If you run it a second time and and nothing happens then you’re fine. "],["T3_Markdown.html", "Chapter 3 R-Markdown 3.1 What is markdown? 3.2 Important things to know 3.3 YAML Code and templates 3.4 Writing Maths equations in R-Markdown 3.5 Code Chunk options 3.6 Inline Code", " Chapter 3 R-Markdown 3.1 What is markdown? Remind yourself of what Rmarkdown is here https://rmarkdown.rstudio.com, or via this short video All markdown documents have three components. There is a space at the top of the file where we can add information about themes/styles etc called “YAML”. This determines what type/style of document your work will become There is space to add text (white), And you can add code in ‘mini consoles’ called ‘code chunks’. (Grey) 3.2 Important things to know 3.2.1 Visual mode It is MUCH easier to edit markdown documents in the new visual mode. Essentially instead of having to remember text short cuts like * for bold, you can edit the text part as though you were using a word processor. NOTE HEADERS where it says “Normal”, this allows you to make auto tables of contents. 3.2.2 Inserting images/tables and formatting In visual mode, look at the menu at the top. It’s very easy to insert images, tables and other formatting. Pay special attention to the Normal/Heading 1/Heading 2 buttons.. For what I mean by this, see this link: https://zsmith27.github.io/rmarkdown_crash-course/lesson-3-basic-syntax.html Note, because of visual mode, you can click a button instead of learning the syntax. 3.2.3 Code chunks Code chunks are mini consoles where you can run R commands. We will talk more about them in the next tutorial. On the top right there are a suite of buttons for adding a new code chunk, running code etc. The green one adds a new code chunk. To run an individual code chunk you will press the green arrow on its top right e.g. 3.2.4 Knitting The file on your screen isn’t the finished article. To see how it will look as a final version, we need to “knit” it. Go to the top of the .Rmd file, find the knit button. Press it (you might have to first save your script if you haven’t already, then press it again) You should see that the Markdown tab “builds” your document and you get an output as a website. The html should also be saved into your project folder. Yours will not knit if you haven’t yet installed the rmdformats package For example, here is a file with markdown and knitted output. 3.3 YAML Code and templates For Lab 1-3, you will be using a custom template that I made using the package rmdformats.[^in_04-tutorial3_markdown-1] This outputs a html file in a special html format called ‘downcute’. From lab 4 onwards, you will be making your own markdown documents. Here’s how Make sure that you have installed the rmdformats package. If you’re on posit cloud, you will need to install it every time. MAKE SURE YOU ARE RUNNING YOUR PROJECT Go to File/New File/R-Markdown (it’s the 5th menu option down) Don’t be tempted to fill in the title. Instead IMMEDIATELY click on the template button on the left. This will bring up a list of templates. Choose one you like. If you’re not sure, have a look here: https://github.com/juba/rmdformats?tab=readme-ov-file#readme Now there are two things you might see (I’m not sure why - Mac vs PC?) OPTION A: If you see something like this, where the bottom bit is blank. Choose your template, press OK and it will make a file called untitled.RmD. Click either knit or save and save it as your labnumber_emailID.RmD. OPTION B: On some computers (including mine), it says that these files need to be put into a new directory. In that case, name the file here as your labnumber_emailID.Rm and click OK. It will make a new file named correctly. BUT there’s a (mini) issue. It puts the file in a subfolder inside your lab folder. Close the file. You can either close Rstudio and on your computer, move the RmD up a level to the main lab folder and delete the subfolder. OR.. you can do it inside R studio. And now, go to the files quadrant. If you are running your project, you should see a new subfolder named whatever you named your RmD file. Click on its name to open. Then click on the tickbox by your lab report file, click on the cogwheel on the right (this gets hidden if your R-Studio isn’t full screen) and click move. Move it up one-level to your main lab folder. Then move up a level to your main lab 4, click the tickbox by the sub-folder and press delete. Now reopen the RmD file and carry on with your lab. 3.4 Writing Maths equations in R-Markdown 3.4.1 Double dollar signs It is relatively easy to write equations in R markdown. They use the “Latex” format and you put them between double dollar signs. For example, try typing $$x=2$$ on a new line of the white text area in your repprt ( NOT INTO A CODE CHUNK), then pressing knit. You should see: \\[x=2\\] But how do you write all the fancy equation stuff? We cheat. Create the equation you want in one of these generators, then copy the code into your script and put it between double dollar signs: https://latex.codecogs.com/eqneditor/editor.php https://www.tutorialspoint.com/latex_equation_editor.htm For example $$\\widehat{y} = b_{0}+b_{1}x$$ Shows up as \\[\\widehat{y} = b_{0}+b_{1}x\\] 3.4.2 Single dollar signs Essentially this is the same, but the equation is part of the text and you only see the output when you press knit. For example including $x=2$ in this sentence shows \\(x=2\\) as an output. 3.4.3 Using Equatiomatic There’s also a package called equatiomatic that we can use to directly make equations from our linear models. Full tutorial here: https://github.com/datalorax/equatiomatic 3.4.3.1 Installing it It’s no longer in the official app-store, so to install it, FIRST, install a package called ‘remotes’. Then run this code to install from github: remotes::install_github(\"datalorax/equatiomatic\") Then add the library command in the library code chunk. Note, as discussed here, this might not work for some people and to be honest, I think this package might be more effort than it’s worth. 3.4.3.2 Using it Equatiomatic allows us to extract an equation from any linear model using extract_eq(). For example, let’s create a linear model: data(starwars) mymodel &lt;- lm(mass~height,data=starwars) Then extract_eq allows you to see the LateX version of the equation. extract_eq(mymodel) If you run it in the console, the command returns the LaTeX code you need to add it into the text yourself. If you want to use the actual numbers, simply turn on use_coefs=TRUE. extract_eq(mymodel, use_coefs = TRUE) Let’s say our data is a sample, not the population, then we want to use lower case names for our sample statistics (b0 &amp; b1). There is no easy way to do this in the command, so I run the command in the console, then copy the command over to the TEXT part of the report as an equation and change the betas to ’b’s. More examples here: From the equatiomatic website: https://github.com/datalorax/equatiomatic 3.5 Code Chunk options What are they? Essentially, instructions that you tell the computer when you press knit. 3.5.1 Creating them in Source mode Click source mode and have a look at a code chunk. You will see it starts with three little back-ticks and the {r} sign. For code chunk options, we will be focusing on the top line with the {r} At the moment, the code chunk tells us that the code inside is written in R. We can also add other options, separated using commas. In fact, you have often seen me add message=FALSE and warning=FALSE to prevent any spurious messages appearing when you press knit. Keep reading to see the many other things you can add. 3.5.2 Creating them in View mode You can also edit code chunk options in view mode. Create a new code chunk, then click on the little (almost invisible) cogwheel near the run triangle This will open a menu where you can choose many of the common options 3.5.3 Setting the default for the whole document Many templates already include this for you to edit. If not, you can put a code chunk at the top of your document (below the YAML code) containing knitr::opts_chunk$set(echo=TRUE) to change the default values of chunk options in a document. For example, you may put this in the first code chunk of your document to stop it showing messages on knit. ```{} knitr::opts_chunk$set(echo=TRUE, warning=FALSE, message=FALSE) ``` 3.5.4 Common options Here are the common options we typically need: message = TRUE/FALSE. Don’t show friendly R messages on knitting. I use this so often that I put it in that knitr code chunk at the top of my scripts. warning = TRUE/FALSE . Don’t show R warnings on knitting. It will still show errors, so this is another good one to use. include = TRUE/FALSE. Show or Hide the code AND output in the final document. Really useful with inline code (next section) echo = TRUE/FALSE. Show or Hide the code chunk code in the final document. The output will still be shown. eval = TRUE/FALSE. This option determines whether the code is evaluated or executed. If eval = TRUE, the code is executed. If eval = FALSE, the code is not executed, but the code chunk is still displayed. This can be useful for showing example code without actually running it. Or for example, if you can’t knit because of an error, you can add eval=FALSE to the problem code chunk so I can see what you did but you can still knit. 3.6 Inline Code There are two types of code you can write in your reports: code chunks and inline R code. 3.6.0.1 Code chunks Click source mode and have a look at a code chunk. You will see it starts with three little back-ticks and the {r} sign. 3.6.0.2 .. vs Inline Code Inline R code is embedded in the TEXT/NARRATIVE of your document using single back-ticks. For example, writing My value of y is `r y` and x-squared is `r x^2` Will output: My value of y is 10 and x-squared is 49. If this doesn’t make sense, follow these tutorial to see how to add inline code. https://bookdown.org/yihui/rmarkdown-cookbook/r-code.html https://www.njtierney.com/post/2019/07/10/jq-verbatim-inline-r/ https://rmarkdown.rstudio.com/lesson-4.html 3.6.1 Tips for adding inline code Inline code is GREAT. Imagine writing your 100 page thesis, but then you realise that your dataset was wrong. If all the numbers in your report are added using inline code, then it will automatically update your entire report. The easiest way to do this is to run your commands in a “silent” code chunk with the echo=FALSE and include=FALSE options. Then in the text, I just put the variable name I want to print, sometimes rounding to a better number of decimal places1. For example here’s how I typed that the mean height of the starwars data is 174.6 cm: You don’t actually need echo AND include. I can simply never remember which one is which and use them both :). You can round in the inline code or the code chunk. Both are fine↩︎ "],["T4_ReadingData.html", "Chapter 4 Reading in data 4.1 DON’T USE ‘FILE/IMPORT’ OR DRAG IN DATA 4.2 REMEMBER TO USE PROJECTS 4.3 Reading in csv files 4.4 Reading in excel files 4.5 Loading built-in data", " Chapter 4 Reading in data 4.1 DON’T USE ‘FILE/IMPORT’ OR DRAG IN DATA We often have to read in data from file. For those of you who have used before, you might have done this interactively e.g. going to File/Import data. The problem with this is that when you press ‘knit’ the computer don’t know how to reproduce your actions, so it will crash. So we want to learn the code commands to put into a code chunk. Here are some common ways to do so (there are many others!) 4.2 REMEMBER TO USE PROJECTS The advantage of using projects is that you don’t have to ‘tell’ the computer where to look for data. So for those of you who used R before, you don’t have to use commands like setwd(). INSTEAD PUT THE DATA FILES IN THE SAME FOLDER AS YOUR PROJECT .Rproj file. R will automatically look there first without you needing to tell it any locations. ADVANCED: If you want to be fancy, you can make a sub-folder and the use “./foldername/filename..” in front of your file name. e.g, the . means look in the current folder, then go into the subfolder called foldername, then look for your filename. 4.3 Reading in csv files First, make sure your csv is in your lab folder and you are running your lab project. CSV files are like basic spreadsheets without formatting. E.g. comma separated values. The easiest way to read in a csv file is using the read.csv() command. This is built into R, you don’t need to install any packages. mydata &lt;- read.csv(&quot;FILENAME.csv&quot;) The command is read.csv() - if you go to ?read.csv you can see lots of other options like skipping rows etc. “FILENAME.csv” is whatever you have called your file. Its case sensitive. mydata is the variable name you wish to save it as. This can be anything you like (e.g. if i read in data on frost dates, I might call it frost). Other valid commands that do the same thing are read_csv() (from the readr package) and fread() (from the data.table package). These are faster and more adaptable, but you would have do download the packages and they read the data into their own propitiatory format. 4.3.1 I got an error If you get an error, it means that either you have typed the filename in wrongly (for example you didn’t include the .csv) or that the file isn’t in exactly the same folder as your .rproj, or that you’re not running your project so the computer doesn’t know where to look. 4.3.2 My data doesn’t have column names If your data doesn’t have column names, you can tell R that it doesn’t like this: mydata &lt;- read.csv(&quot;FILENAME.csv&quot;,header=FALSE) Then you can rename your columns using the names() command. 4.4 Reading in excel files First, make sure your xlsx or xls file is in your lab folder and you are running your lab project. More complex spreadsheets are easily read in using the read_excel() command from the readxl package. First, go to the packages tab, click install and download/install the readxl package. Then add readxl to your library code chunk and run (e.g. library(readxl) ) library(readxl) Now you can read in excel files using this command mydata2 &lt;- read_excel(&quot;FILENAME.xlsx&quot;) The command is read_excel() - if you go to ?read_excel you can see lots of other options like skipping rows etc. “FILENAME.xlsx” is whatever you have called your file. Its case sensitive and you need the extension. mydata2 is the variable name you wish to save it as. This can be anything you like (e.g. if i read in data on frost dates, I might call it frost). Other valid commands that do the same thing are read_table() (from the readr package) and fread() (from the data.table package). These are faster and more adaptable, but you would have do download the packages and they read the data into their own propitiatory format. If you get an error, it means that either you have typed the filename in wrongly (for example you didn’t include the .csv) or that the file isn’t in exactly the same folder as your .rproj, or that you’re not running your project so the computer doesn’t know where to look. 4.5 Loading built-in data R also has many built-in datasets. To load them into R: In your library code chunk, load the library that contains the dataset &lt;br Load the dataset using the ‘data’ command This will create a ‘data promise’ in your Environment tab. To look at or use the data, click on its NAME, or run any command. Here, I used the glimpse command, but you can do anything. For example, to load the palmer penguins data. library(palmerpenguins) #normally this would be at the top of the code chunk data(&quot;penguins&quot;) glimpse(penguins) ## Rows: 344 ## Columns: 8 ## $ species &lt;fct&gt; Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel… ## $ island &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgerse… ## $ bill_length_mm &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, … ## $ bill_depth_mm &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, … ## $ flipper_length_mm &lt;int&gt; 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186… ## $ body_mass_g &lt;int&gt; 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, … ## $ sex &lt;fct&gt; male, female, female, NA, female, male, female, male… ## $ year &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007… "],["probability-distributions.html", "Chapter 5 Probability distributions 5.1 What are they? Full info 5.2 The normal distribution 5.3 T-distribution 5.4 Others?", " Chapter 5 Probability distributions 5.1 What are they? Full info We have talked about several distributions and tests so far in the lab. To see the help files for most of them, see ?Distributions. Expand to see the current list For the normal distribution see dnorm. For the Poisson distribution see dpois. For the Student’s t distribution see dt. For the uniform distribution see dunif. For the beta distribution see dbeta. For the binomial (including Bernoulli) distribution see dbinom. For the Cauchy distribution see dcauchy. For the chi-squared distribution see dchisq. For the exponential distribution see dexp. For the F distribution see df. For the gamma distribution see dgamma. For the geometric distribution see dgeom. (This is also a special case of the negative binomial.) For the hypergeometric distribution see dhyper. For the log-normal distribution see dlnorm. For the multinomial distribution see dmultinom. For the negative binomial distribution see dnbinom. For the Weibull distribution see dweibull. For less common distributions of test statistics see pbirthday, dsignrank, ptukey and dwilcox (and see the ‘See Also’ section of cor.test). 5.2 The normal distribution Remember as we discussed in lectures, we normally state that a variable modelled using by a normal distribution is described by: X∼N(μ,σ2) In this expression: X is the random variable. ∼ means “is distributed as.” N represents the normal distribution. μ is the mean of the distribution. σ2 is the VARIANCE of the distribution. In R commands, you need the standard deviation instead. (you can google how to get the sd from the variance if you have forgotten) 5.2.1 Help file To see the help file for all normal related functions: ?Normal 5.2.2 Generate a random sample To generate a random sample from a normal distribution we use rnorm: # random sample of size 100 sample.normal &lt;- rnorm(n=100,mean=4,sd=2) 5.2.3 Calculate probability when given a z-score To calculate a z score from your sample/population, you can use R as a calculator. To calculate the probability of greater/lesser than a value in a given normal distribution (e.g. you can use this as an interactive table) # probability of less than 1.7 in a normal distribution with mean 4 and standard deviation = 2 pnorm(1.7,mean=4,sd=2,lower.tail = TRUE) ## [1] 0.1250719 # probability of GREATER than 1.8 in a normal distribution with mean 4 and VARIANCE = 9 1 - pnorm(1,mean=4,sd=3,lower.tail = TRUE) ## [1] 0.8413447 # or pnorm(1,mean=4,sd=2,lower.tail = FALSE) ## [1] 0.9331928 5.2.4 Calculate z-score when given a probability Inversely, to calculate the z-score for a given probability # what value is less than 60% of the data? qnorm(0.6,mean=4,sd=2,lower.tail = TRUE) ## [1] 4.506694 # what value is greater than 80% of the data? qnorm(0.8,mean=4,sd=2,lower.tail = FALSE) ## [1] 2.316758 5.2.5 Testing normality 5.2.5.1 Wilks Shapiro test for normality To test for normality: First, have a look at the histogram! Here is the code for the Shapiro-Wilk test. shapiro.test(HousesNY$Price) ## ## Shapiro-Wilk normality test ## ## data: HousesNY$Price ## W = 0.96341, p-value = 0.1038 There are many online tutorials for interpretation 5.2.5.2 QQ-Norm plot You can also make a QQ-Norm plot. Instal the ggpubr package, add it to your library code chunk and run. library(ggpubr) ggqqplot(HousesNY$Price,col=&quot;blue&quot;) YOU CAN INTERPRET IT HERE: https://www.learnbyexample.org/r-quantile-quantile-qq-plot-base-graph/ 5.3 T-distribution What even is this? See this nice resource: https://365datascience.com/tutorials/statistics-tutorials/students-t-distribution/ To see the help file for all these: ?TDist 5.3.1 Calculate a probability given a T-Statistic To calculate a t-statistic from your sample/population, you can use R as a calculator. To calculate the probability of greater/lesser than a value in a given t-distribution (e.f. you can use this as an interactive t-table) # probability of seeing less than 1.7 in a t-distribution # with 20 degrees of freedom pt(1.55,df=20,lower.tail = TRUE) ## [1] 0.9315892 5.3.2 Calculate a T-Statistic for a given probability To calculate the value for a given probability # what value is greater than 90% of the data in a t-distribution with df=25 qt(0.9,df=25,lower.tail = TRUE) ## [1] 1.316345 5.3.3 One sided T-test To conduct a full t-test on some data: # Conduct a two-sided t-test where we think that the data comes from a T-distribution with mean 100. t.test(HousesNY$Price,mu=100,alternative=&quot;two.sided&quot;) ## ## One Sample t-test ## ## data: HousesNY$Price ## t = 2.3954, df = 52, p-value = 0.02024 ## alternative hypothesis: true mean is not equal to 100 ## 95 percent confidence interval: ## 102.2125 125.0516 ## sample estimates: ## mean of x ## 113.6321 or see the detailed tutorial here: http://www.sthda.com/english/wiki/one-sample-t-test-in-r for one-sample and here for comparing two samples: http://www.sthda.com/english/wiki/unpaired-two-samples-t-test-in-r 5.4 Others? More to come later.. but they all follow the same format "],["T6_plots.html", "Chapter 6 Plots 6.1 Example dataset 6.2 Scatterplots 6.3 Histograms 6.4 Boxplots 6.5 Violin plots 6.6 Ridgeline plots 6.7 Beeswarm plots", " Chapter 6 Plots Plots are designed to do two things, allow you to see something in the data that you couldn’t see in the numbers, plus communicate output in a compelling way. Going beyond the basics or knowing the limitations of a plot will help you do this, so in these examples I have provided a range of complexity. You will see tutorials for all the plots I mention in this section. If in doubt, try the ggstatsplot versions. 6.0.1 What to choose? If you are looking at a single variable, try histograms, boxplots and violin plots If you think your histogram changes by some category, try grouped boxplots and grouped violin plots (easy violin plot here) If you think your histogram changes numerically, try ridgeline plots If you are comparing two variables, try scatterplots and correlation plots. 6.0.2 Where to find worked examples There are three places I visit constantly: https://www.r-graph-gallery.com/ https://indrajeetpatil.github.io/ggstatsplot/ https://r-charts.com/distribution/ https://flowingdata.com/ If you are new to data visualisation, read these two articles https://flowingdata.com/2014/10/23/moving-past-default-charts/ https://flowingdata.com/2012/05/15/how-to-visualize-and-compare-distributions/ {#T6_ExampleData} 6.1 Example dataset Throughout this tutorial, I will use an example dataset on houses in New York. This has the columns: Price: Estimated price (in $1,000’s) Beds: Number of bedrooms Baths: Number of bathrooms Size: Floor area of the house (in 1,000 square feet) Lot: Size of the lot (in acres) data(&quot;HousesNY&quot;, package = &quot;Stat2Data&quot;) head(HousesNY) ## Price Beds Baths Size Lot ## 1 57.6 3 2 0.960 1.30 ## 2 120.0 6 2 2.786 0.23 ## 3 150.0 4 2 1.704 0.27 ## 4 143.0 3 2 1.200 0.80 ## 5 92.5 3 1 1.329 0.42 ## 6 50.0 2 1 0.974 0.34 6.2 Scatterplots 6.2.1 Basic plot (no line of best fit) Here is the absolute basic scatterplot. This should not be the one you submit in your reports (e.g. either choose a more professional one or adjust the options below) # you can either do plot(x, y) # OR (recommended), use the ~ to say plot(y~x) # e.g. y depends on x plot(HousesNY$Price ~ HousesNY$Beds, xlab=&quot;Beds&quot;,ylab=&quot;Price (USD&quot;) There are many things we can change, see the help file for the par command for more. For example, here is an ugly plot showing as many as I can think! plot(HousesNY$Price ~ HousesNY$Beds, xlim=c(0,7), #xlimits ylim=c(40,220), #ylimits xlab=list(&quot;Beds&quot;,cex=.8,col=&quot;red&quot;,font=2), # play with x-label ylab=list(&quot;Price&quot;,cex=1.2,col=&quot;blue&quot;,font=3), # play with x-label main=&quot;Ugly feature plot&quot;, cex=1.2, #point size pch=16, # symbol shape (try plot(1:24,1:24,pch=1:24 to see them all)) tcl=-.25, # smaller tick marks mgp=c(1.75,.5,0)) # move the x/y labels around grid() # add a grid # lines means &quot;add points on top&quot; lines(HousesNY$Price ~ HousesNY$Beds, type=&quot;p&quot;, # p for points, &quot;l&quot; for lines, &quot;o&quot; for both, &quot;h for bars xlim=c(0,7), #xlimits ylim=c(40,220), #ylimits col=&quot;yellow&quot;, cex=.5, #point size pch=4) # move the x/y labels around 6.2.2 Basic plot WITH a line of best fit To add a line, you can use the abline command IN THE SAME CODE CHUNK: # Create the plot plot(HousesNY$Price ~ HousesNY$Beds, xlab=&quot;Beds&quot;, ylab=&quot;Price (1000 USD)&quot;, main=&quot;&quot;, cex=1.2, pch=16) # add vertical line at 3.5 # # add horizontal line at the mean of price abline(v=5.5,col=&quot;red&quot;) abline(h=mean(HousesNY$Price),col=&quot;blue&quot;,lty=&quot;dotted&quot;) # add line of best fit from a linear model mymodel &lt;- lm(Price ~ Beds, HousesNY) abline(mymodel,col=&quot;purple&quot;,lty=&quot;dotted&quot;,lwd=3) 6.2.3 GGplot2 scatterplots GGPlot2 also has basic and advanced options, but you need to install/run the ggplot2 package. Again, I am using the HousesNY example dataset that I discussed earlier with the bed and price column names. You can see that each command is joined by a “+”. # Normally this goes in your library code chunk library(ggplot2) # ggplot (TABLENAME, aes(x=XCOLUMN_NAME, y=YCOLUMN_NAME) ggplot(HousesNY, aes(x=Beds, y=Price)) + geom_point() + ggtitle(&quot;Price of New York Homes by bedroom size&quot;) + xlab(&quot;Beds&quot;) + ylab(&quot;Price (1000 USD)&quot;) To more advanced: # Library. Put these at the top! library(ggplot2) ggplot(HousesNY, aes(x=Beds, y=Price)) + geom_point( color=&quot;black&quot;, fill=&quot;#69b3a2&quot;, shape=22, alpha=0.5, size=6, stroke = 1 ) + ggtitle(&quot;Price of New York Homes by bedroom size&quot;) + xlab(&quot;Beds&quot;) + ylab(&quot;Price (1000 USD)&quot;) 6.2.4 GGplot2 adding a line of best fit. Adding a line of best fit is easy, but it takes a bit of getting used to. The ggplotly command makes it interactive # Library. Put these at the top if they&#39;re # not already in your library code chunk library(ggplot2) library(plotly) # Add linear trend WITHOUT confidence intervals # HousesNY is the variable/table name. # Beds and Price are the columns I want to plot myplot &lt;- ggplot(HousesNY, aes(x=Beds, y=Price)) + geom_point() + ggtitle(&quot;Price of New York Homes by bedroom size&quot;) + xlab(&quot;Beds&quot;) + ylab(&quot;Price (1000 USD)&quot;)+ geom_smooth(method=lm , color=&quot;red&quot;, se=FALSE) # ggplotly makes it interactive, but you could just type myplot ggplotly(myplot) 6.2.5 GGplot2 adding a line of best fit and confidence intervals We can also add confidence intervals on our line of best fit. # Add linear trend + confidence interval ggplot(HousesNY, aes(x=Beds, y=Price)) + geom_point() + ggtitle(&quot;Price of New York Homes by bedroom size&quot;) + xlab(&quot;Beds&quot;) + ylab(&quot;Price (1000 USD)&quot;)+ geom_smooth(method=lm , color=&quot;blue&quot;, fill=&quot;#69b3a2&quot;, se=TRUE) 6.2.6 Plotly Interactive scatterplots! You can use the plotly library to make ANY ggplot2 plot interactive This is really useful, try zooming in or clicking on a few points. If you don’t want the line of best fit, simply remove the geom_smooth line. # create the plot, save it as a variable rather than print immediately myplot &lt;- ggplot(HousesNY, aes(x=Beds, y=Price)) + geom_point() + geom_smooth(method=lm , color=&quot;red&quot;, se=FALSE) + ggtitle(&quot;Price of New York Homes by bedroom size&quot;) + xlab(&quot;Beds&quot;) + ylab(&quot;Price (1000 USD)&quot;) # and plot interactively ggplotly(myplot) It’s also very easy to add in color to see another variable. For example, here I also add in the lot size. # create the plot, save it as &quot;p&quot; rather than print immediately myplot2 &lt;- ggplot(HousesNY, aes(x=Beds, y=Price,color=Lot)) + geom_point(alpha=.5) + scale_color_gradient(low=&quot;blue&quot;, high=&quot;red&quot;)+ ggtitle(&quot;New York Homes price by bedrooms and lot size (acres)&quot;) + xlab(&quot;Beds&quot;) + ylab(&quot;Price (1000 USD)&quot;) # and plot interactively ggplotly(myplot2) If you get this error, go to the Session menu at the very top of the screen and click “Restart R and run all code chunks”. Error in file(file, ifelse(append, &quot;a&quot;, &quot;w&quot;)) : cannot open the connection Many more interactive options in this tutorial: https://plotly.com/r/line-and-scatter/ 6.3 Histograms Especially just looking at a single response variable, it’s useful to look immediately at the distribution itself. Histograms are great for this, although you must be careful that the bin size doesn’t impact your perception of results. Adding in a boxplot is often useful 6.3.1 Basics Here is the absolute basic histogram, again on our HousesNY price data. hist(HousesNY$Price, xlab=&quot;Price (USD)&quot;,main=&quot;&quot;) Or changing the bin size. You can also specify exact bin sizes using br. - see ?hist hist(HousesNY$Price, br=40, xlab=&quot;Price (USD)&quot;) 6.3.2 ggplot2 histograms In GGPlot 2, it’s also easy. Remember to install the ggplot2 package. Check google for how to add your x label ggplot(data=HousesNY, aes(x=Price)) + geom_histogram(bins=20) 6.3.2.1 Adding a boxplot and histogram Often, a boxplot AND a histogram is useful as it allows you to see a sense of the data shape and its underlying symmetry. For example, in base R # Layout to split the screen graphics::layout(matrix(c(1,2),2,1, byrow=TRUE), height = c(2,7)) # Draw the boxplot and the histogram par(mar=c(0, 3.1, .5, 2.1)) data_to_plot &lt;- HousesNY$Price rangeplot &lt;- pretty(data_to_plot,10) boxplot(data_to_plot,col = &quot;light blue&quot;, border = &quot;dark blue&quot;,xaxt=&quot;n&quot;,frame=FALSE,xlim=c(0.75,1.25), horizontal = TRUE,notch = TRUE,ylim=c(min(rangeplot),max(rangeplot))) par(mar=c(3, 3.1, .5, 2.1)) hist(data_to_plot , breaks=20 , col=grey(0.3) , border=F , tcl=-.25,mgp=c(1.75,.5,0), main=&quot;&quot; , xlab=&quot;Price of houses in Canton NY&quot;, xlim=c(min(rangeplot),max(rangeplot))) box();grid(); hist(data_to_plot , breaks=20 , add=TRUE, col=grey(0.3) , border=F , axis=FALSE, xlim=c(min(rangeplot),max(rangeplot))) And the same with ggplot2: library(ggExtra) p &lt;- ggplot(data=HousesNY, aes(x=Price)) + geom_point(aes(y = 0.01), alpha = 0) + geom_histogram(bins=20) + geom_density(na.rm=T) ggMarginal(p, type=&quot;boxplot&quot;, margins = &quot;x&quot;) 6.3.3 ggstatsplot histograms I also love the ggstatplot version Or their version that includes a lot of associated statistics. You can turn many of these on and off library(ggstatsplot) ## plot gghistostats( data = HousesNY, x = Price, title = &quot;Price of sampled houses in Canton NY&quot;, caption = &quot;Source: Zillow&quot;, results.subtitle = FALSE, xlab = &quot;Price (USD)&quot;) 6.3.3.1 Adding a density function Sometimes seeing a smoothed line helps draw the eye to distributions hist(HousesNY$Price, prob = TRUE, main = &quot;Canton Prices with density curve&quot;) lines(density(HousesNY$Price), col = 4, lwd = 2) box() 6.3.3.2 Adding a distribution Let’s say you want to make plots similar to the ones in the lectures where there is your chosen distribution on top. If you know the distribution, you can simply add it on top as a line mysample &lt;- HousesNY$Price plotmin &lt;- mean(mysample) - sd(mysample)*3 plotmax &lt;- mean(mysample) + sd(mysample)*3 # Points for the normal equation line NormCurve_x &lt;- seq(plotmin,plotmax, length = 40) # Normal curve calculation for each point NormCurve_y &lt;- dnorm(NormCurve_x, mean = mean(mysample), sd = sd(mysample)) # make sure this is density not raw frequency hist(mysample , breaks=20 , freq=FALSE, col=grey(0.5) , border=F , xlim=c(plotmin,plotmax), tcl=-.25,mgp=c(1.75,.5,0), main=&quot;&quot; , xlab=&quot;Price of houses in Canton NY&quot;) # add the normal curve (THIS NEEDS TO BE IN THE SAME CODE CHUNK) lines(NormCurve_x, NormCurve_y, col = 2, lwd = 2) box() We could plot any old curve this way, it doesn’t have to be “fit” to our data. For example here is a random gamma function mysample &lt;- HousesNY$Price # Points for the normal equation line GammaCurve_x &lt;- seq(plotmin,plotmax, length = 60) GammaCurve_y &lt;- dgamma(GammaCurve_x,shape = 2) # make sure this is density not raw frequency hist(mysample , breaks=20 , freq=FALSE, col=grey(0.5) , border=F , xlim=c(plotmin,plotmax), tcl=-.25,mgp=c(1.75,.5,0), main=&quot;&quot; , xlab=&quot;Price of houses in Canton NY&quot;) # add the normal curve (THIS NEEDS TO BE IN THE SAME CODE CHUNK) lines(GammaCurve_x, GammaCurve_y, col = 2, lwd = 2) box() 6.3.3.3 Mulitple histograms Or you can easily compare two datasets, tutorial for this plot here: https://www.r-graph-gallery.com/histogram_several_group.html See also ridgeline plots below. 6.4 Boxplots Boxplots have been around over 40 years! See their history and evolution here: http://vita.had.co.nz/papers/boxplots.pdf In terms of your reports, you need to think of 3 things: - Why you are making the plot (quick look vs publication worthy final graphic) - What aspects of the data do you want to highlight (lots of data, comparing groups, weird distributions..) - What are your final requirements and personal style (colorblind friendly, you’re drawn to a certain type of plot..) So for boxplots.. they are especially good at allowing you to compare different groups of things or to look for multiple groups in a single response variable. Here is a beautiful example made by Marcus Beckman on dissertation lengths. https://beckmw.wordpress.com/2014/07/15/average-dissertation-and-thesis-length-take-two/ and code here: https://github.com/fawda123/diss_proc ) If there are only one or two variables, I often jump to the violin or histogram plots as they show more detail. So.. how to make these yourselves. You have a range of options! 6.4.1 Basics (single boxplot) Here is the most basic boxplot you can make. I often start with this for my own use when exploring the data, then later decide which plots to “make pretty”. boxplot(HousesNY$Price) We can make better boxplots in base R (e.g. using no special packages/libraries). See this tutorial for all the details: https://www.datamentor.io/r-programming/box-plot/ which goes through exactly what each line means. # one big command on separate lines boxplot(HousesNY$Price, main = &quot;House prices of Canton NY sample&quot;, xlab = &quot;Price (Thousand USD)&quot;, col = &quot;light blue&quot;, border = &quot;dark blue&quot;, horizontal = TRUE, notch = TRUE) There are specific plotting packages, the most famous being ggplot2 (there are data camp courses on it). The absolute basics. Here x is blank because we just want to look at the price column alone. library(ggplot2) ggplot(HousesNY, aes(x =&quot;&quot;, y = Price)) + ## this loads the data geom_boxplot() ## and we choose a boxplot Note for now, think of the %&gt;% symbol and + symbol also as “one command on multiple lines..”. They allow you to build up layers of the plot. Data camp has more on this. But with these we can easily do more sophisticated things. For example, here’s how to see the underlying data, which allows us to see something of the background distribution https://r-charts.com/distribution/box-plot-jitter-ggplot2/ # Basic box plot ggplot(HousesNY, aes(x = &quot;&quot;, y = Price)) + geom_boxplot() + geom_jitter() 6.4.2 Comparing groups The basic code to see a boxplot split by group, in this case the price per number of beds: boxplot(HousesNY$Price ~ HousesNY$Beds) The advantage of this is that you can be sure that you really did plot your columns of choice (e.g. you didn’t mistakenly label anything). Note, if you use a comma, rather than the “~” symbol, you will make one for each column - which is normally not useful! boxplot(HousesNY$Price, HousesNY$Beds) In GGplot comparing different groups: # Libraries library(tidyverse) library(viridis) # tell R that the beds column is categorical HousesNY$Beds &lt;- factor(HousesNY$Beds, levels=c(min(HousesNY$Beds):max(HousesNY$Beds))) # Plot ggplot(HousesNY, aes(x=Beds, y=Price)) + geom_boxplot() Or getting more complex # Libraries library(tidyverse) library(viridis) # tell R that the beds column is categorical # I already did this in the table section #HousesNY$Beds &lt;- as.factor(HousesNY$Beds) # Plot HousesNY %&gt;% ggplot( aes(x=Beds, y=Price, fill=Beds) )+ geom_boxplot() + scale_fill_viridis(discrete = TRUE, alpha=0.6) + geom_jitter(color=&quot;black&quot;, size=0.5, alpha=0.8) + ggtitle(&quot;&quot;) + xlab(&quot;Beds&quot;) or dotplots.. ggplot(HousesNY, aes(x=Beds, y=Price, fill=Beds)) + geom_boxplot() + geom_dotplot(binaxis = &quot;y&quot;, stackdir = &quot;center&quot;, dotsize = 0.5,binwidth=7) There are MANY more options, plus code here: https://www.r-graph-gallery.com/boxplot.html and a delightful tutorial here: https://www.r-bloggers.com/2021/11/how-to-make-stunning-boxplots-in-r-a-complete-guide-with-ggplot2/ 6.4.3 Sophisticated Finally, we can get super fancy in base R - it’s often a good way to learn how to code. I like this example because it shows many different aspects/useful commands in R programming. http://www.opiniomics.org/beautiful-boxplots-in-base-r/ library(RColorBrewer) # create colours and colour matrix (for points) m &lt;- as.matrix(HousesNY$Price) col_main &lt;- colorRampPalette(brewer.pal(12, &quot;Set3&quot;), alpha=TRUE)(ncol(m)) col_transp &lt;- colorspace::adjust_transparency(col_main, alpha = .3) colsm &lt;-matrix(rep(col_main, each=nrow(m)), ncol=ncol(m)) colsm_tr &lt;-matrix(rep(col_transp, each=nrow(m)), ncol=ncol(m)) # create some random data for jitter r &lt;- (matrix(runif(nrow(m)*ncol(m)), nrow=nrow(m), ncol=ncol(m)) / 2) - 0.25 # get the greys (stolen from https://github.com/zonination/perceptions/blob/master/percept.R) palette &lt;- brewer.pal(&quot;Greys&quot;, n=9) color.background = palette[2] color.grid.major = palette[5] # set graphical area par(bty=&quot;n&quot;, bg=palette[2], mar=c(5,8,3,1)) # plot initial boxplot boxplot(m~col(m), horizontal=TRUE, outline=FALSE, lty=1, staplewex=0, boxwex=0.8, boxlwd=1, medlwd=1, col=colsm_tr, xaxt=&quot;n&quot;, yaxt=&quot;n&quot;,xlab=&quot;&quot;,ylab=&quot;&quot;) # plot gridlines for (i in pretty(m,10)) { lines(c(i,i), c(0,20), col=palette[4]) } # plot points points(m, col(m)+r, col=colsm, pch=16) # overlay boxplot boxplot(m~col(m), horizontal=TRUE, outline=FALSE, lty=1, staplewex=0, boxwex=0.8, boxlwd=1, medlwd=1, col=colsm_tr, add=TRUE, xaxt=&quot;n&quot;, yaxt=&quot;n&quot;) # add axes and title axis(side=1, at=pretty(m,10), col.axis=palette[7], cex.axis=0.8, lty=0, tick=NA, line=-1) axis(side=1, at=50, labels=&quot;Price (Thousand USD)&quot;, lty=0, tick=NA, col.axis=palette[7]) axis(side=2, at=1, col.axis=palette[7], cex.axis=0.8, lty=0, tick=NA, labels=&quot;Sample 1&quot;, las=2) axis(side=2, at=17/2, labels=&quot;Phrase&quot;, col.axis=palette[7], lty=0, tick=NA, las=3, line=6) title(&quot;House Prices in Canton NY&quot;) Or if you wish to do the rainbow many group boxplot at the beginning, the code is here : https://github.com/fawda123/diss_proc/blob/master/diss_plot.R 6.5 Violin plots Violin plots combine the simplicity of a boxplot with a sense of the underlying distribution. This is useful when you want a sense of both the symmetry of the data and the underlying distribution. Highly recommended! For a single variable, consider a box-plot-with-histogram (see below). There are MANY on R graph gallery with code you can copy/edit: https://www.r-graph-gallery.com/violin.html For example, for our data: # fill=name allow to automatically dedicate a color for each group ggplot(HousesNY, aes(x=Beds, y=Price, fill=Beds)) + geom_violin() There’s also a beautiful package called ggstatsplot which allows a lot of detail (https://indrajeetpatil.github.io/ggstatsplot/) For example, I love the plot below because it shows how much data in each group. # you might need to first install this. library(ggstatsplot) # i&#39;m changing the middle mean point to be dark blue ggbetweenstats(data = HousesNY,x = Beds,y = Price, centrality.point.args=list(color = &quot;darkblue&quot;)) Or we can customise it even more using this tutorial to get results like this (https://www.r-graph-gallery.com/web-violinplot-with-ggstatsplot.html) 6.6 Ridgeline plots These are another way of looking at histograms for different groups. They work especially when your grouping data is ORDINAL (has some inherent order). So bedrooms would be a good example Two great pages here: https://www.data-to-viz.com/graph/ridgeline.html https://r-charts.com/distribution/ggridges/ We can use histograms or smoothed density lines https://www.data-to-viz.com/graph/ridgeline.html library(ggridges) library(ggplot2) HousesNY %&gt;% ggplot( aes(y=Beds, x=Price, fill=Beds)) + geom_density_ridges(alpha=0.6, stat=&quot;binline&quot;) + scale_fill_viridis(discrete=TRUE) + scale_color_viridis(discrete=TRUE) + theme( legend.position=&quot;none&quot;, panel.spacing = unit(0.1, &quot;lines&quot;), strip.text.x = element_text(size = 8) ) + xlab(&quot;&quot;) + ylab(&quot;Number of Bedrooms&quot;) All of these are from https://r-charts.com/distribution/ggridges/ library(ggridges) library(ggplot2) ggplot(HousesNY, aes(x = Price, y = Beds, fill = stat(x))) + geom_density_ridges_gradient() + scale_fill_viridis_c(name = &quot;Depth&quot;, option = &quot;C&quot;) + coord_cartesian(clip = &quot;off&quot;) + # To avoid cut off theme_minimal() We can also make the colours more meaningful, for example adding quantiles to show the median and interquartile range ggplot(HousesNY, aes(x = Price, y = Beds, fill = stat(quantile))) + stat_density_ridges(quantile_lines = FALSE, calc_ecdf = TRUE, geom = &quot;density_ridges_gradient&quot;) + scale_fill_brewer(name = &quot;&quot;) or highlighting tails ggplot(HousesNY, aes(x = Price, y = Beds, fill = stat(quantile))) + stat_density_ridges(quantile_lines = TRUE, calc_ecdf = TRUE, geom = &quot;density_ridges_gradient&quot;, quantiles = c(0.05, 0.95)) + scale_fill_manual(name = &quot;Proportion&quot;, values = c(&quot;#E2FFF2&quot;, &quot;white&quot;, &quot;#B0E0E6&quot;), labels = c(&quot;(0, 5%]&quot;, &quot;(5%, 95%]&quot;, &quot;(95%, 1]&quot;)) 6.7 Beeswarm plots These are cool. As described here: https://www.rhoworld.com/i-swarm-you-swarm-we-all-swarm-for-beeswarm-plots-0/#:~:text=What%20is%20a%20beeswarm%20plot%3F&amp;text=A%20beeswarm%20plot%20improves%20upon,bees%20buzzing%20about%20their%20hive. “But what is a beeswarm plot? … A beeswarm plot improves upon the random jittering approach to move data points the minimum distance away from one another to avoid overlays. The result is a plot where you can see each distinct data point, like so: It looks a bit like a friendly swarm of bees buzzing about their hive.” It’s often used for professional visualisation, see here for many examples: https://flowingdata.com/charttype/beeswarm Especially for the first, you can see the distribution clearly, also with the amount of data. With the second, you can see the mitigating impact of a second variable. To make easy ones you can install a new packages “beeswarm” library(&quot;beeswarm&quot;) beeswarm(HousesNY$Price, vertical = FALSE, method = &quot;hex&quot;) This is a little boring for my 58 data points! (although perhaps it does show that 58 points is barely a big enough sample to know an underlying model..) "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
